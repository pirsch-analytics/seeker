{{- $css := resources.Get "scss/main.scss" | resources.ToCSS (dict "targetPath" "style.css" "outputStyle" "compressed" "enableSourceMap" true) -}}
{{- $lunr := resources.Get "js/lunr.js" -}}
{{- $theme := resources.Get "js/theme.js" -}}
{{- $img := resources.Get "js/img.js" -}}
{{- $menu := resources.Get "js/menu.js" -}}
{{- $search := resources.Get "js/search.js" -}}
{{- $js := slice $theme $img $menu ($search | resources.ExecuteAsTemplate "search.js" .) | resources.Concat "main.js" | js.Build (dict "targetPath" "main.js" "minify" true) -}}
<head>
    <base href="{{.Site.BaseURL}}" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    {{hugo.Generator}}

    {{/* Title meta tags */}}
    <meta property="og:title" content="{{ .Title }} | {{ .Site.Title }}" />
    <meta name="twitter:title" content="{{ .Title }} | {{ .Site.Title }}" />
    <meta itemprop="name" content="{{ .Title }} | {{ .Site.Title }}" />
    <meta name="application-name" content="{{ .Title }} | {{ .Site.Title }}" />
    <meta property="og:site_name" content="docs.pirsch.io" />

    {{/* Description meta tags */}}
    <meta name="description" content="{{ .Params.description }} | {{ .Site.Title }}" />
    <meta itemprop="description" content="{{ .Params.description }} | {{ .Site.Title }}" />
    <meta property="og:description" content="{{ .Params.description }} | {{ .Site.Title }}" />
    <meta name="twitter:description" content="{{ .Params.description }} | {{ .Site.Title }}" />

    {{/* Link mata tags */}}
    <link rel="canonical" href="{{ .Permalink }}" itemprop="url" /> 
    <meta name="url" content="{{ .Permalink }}" />
    <meta name="twitter:url" content="{{ .Permalink }}" /> 
    <meta property="og:url" content="{{ .Permalink }}" />

    {{/* Language mata tag */}}
    <meta property="og:locale" content="en_US">

    {{/* Time meta tag */}}
    <meta property="og:updated_time" content={{ .Lastmod.Format "2006-01-02T15:04:05Z0700" | safeHTML }} />

    {{/* Include sitemap for better crawling/indexing of the website */}}
    <link rel="sitemap" type="application/xml" title="Sitemap" href="{{ .Site.BaseURL }}sitemap.xml" /> 

    <link rel="stylesheet" type="text/css" href="{{$css.RelPermalink}}" />
    <link rel="shortcut icon" type="image/png" href="{{.Site.BaseURL}}favicon.png" />
    <title>
        {{- .Page.Title -}}
        {{if .Site.Params.title}} â€’ {{end}}
        {{.Site.Params.title}}
    </title>
    <script src="{{$lunr.RelPermalink}}"></script>
    <script type="text/javascript" src="{{$js.RelPermalink}}"></script>
    
    {{if .Site.Params.pirsch}}
        <script type="text/javascript" src="https://api.pirsch.io/pirsch.js" 
            id="pirschjs" 
            data-code="{{.Site.Params.pirsch}}"></script>
    {{end}}
</head>
